@import "tailwindcss";

:root {
  --background: #0b0b0b;
  --foreground: rgba(255,255,255,0.92);
  --surface: rgba(255,255,255,0.06);
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-sans);
  --font-display: var(--font-display);
  --font-mono: var(--font-mono);
  --font-serif: var(--font-serif);
}

/* Light/Dark theme via data-theme attribute for smooth control */
[data-theme="dark"] {
  --background: #0b0b0b;
  --foreground: rgba(255,255,255,0.92);
  --surface: rgba(255,255,255,0.06);
}

[data-theme="light"] {
  /* Softer, not harsh light */
  --background: #eceff4;
  --foreground: #101114;
  --surface: rgba(0,0,0,0.06);
}

/* Light theme overrides for utility classes hardcoded in components */
[data-theme="light"] .text-white { color: rgba(16,17,20,0.92) !important; }
[data-theme="light"] .text-black { color: var(--foreground) !important; }
[data-theme="light"] .bg-black { background-color: var(--background) !important; }

/* Text opacities */
[data-theme="light"] .text-white\/90 { color: rgba(10,10,10,0.90) !important; }
[data-theme="light"] .text-white\/80 { color: rgba(10,10,10,0.80) !important; }
[data-theme="light"] .text-white\/70 { color: rgba(10,10,10,0.70) !important; }
[data-theme="light"] .text-white\/60 { color: rgba(10,10,10,0.60) !important; }
[data-theme="light"] .text-white\/55 { color: rgba(10,10,10,0.55) !important; }
[data-theme="light"] .text-white\/50 { color: rgba(10,10,10,0.50) !important; }
[data-theme="light"] .text-white\/45 { color: rgba(10,10,10,0.45) !important; }
[data-theme="light"] .text-white\/40 { color: rgba(10,10,10,0.40) !important; }
[data-theme="light"] .text-white\/35 { color: rgba(10,10,10,0.35) !important; }
[data-theme="light"] .text-white\/30 { color: rgba(10,10,10,0.30) !important; }
[data-theme="light"] .text-white\/25 { color: rgba(10,10,10,0.25) !important; }
[data-theme="light"] .text-white\/20 { color: rgba(10,10,10,0.20) !important; }
[data-theme="light"] .text-white\/15 { color: rgba(10,10,10,0.15) !important; }
[data-theme="light"] .text-white\/10 { color: rgba(10,10,10,0.10) !important; }

/* Background translucency */
[data-theme="light"] .bg-white\/5 { background-color: rgba(0,0,0,0.05) !important; }
[data-theme="light"] .bg-white\/10 { background-color: rgba(0,0,0,0.10) !important; }
[data-theme="light"] .bg-white\/12 { background-color: rgba(0,0,0,0.12) !important; }
[data-theme="light"] .bg-white\/15 { background-color: rgba(0,0,0,0.15) !important; }
[data-theme="light"] .bg-white\/20 { background-color: rgba(0,0,0,0.20) !important; }
[data-theme="light"] .bg-white\/25 { background-color: rgba(0,0,0,0.25) !important; }
[data-theme="light"] .bg-white\/30 { background-color: rgba(0,0,0,0.30) !important; }
[data-theme="light"] .bg-white\/40 { background-color: rgba(0,0,0,0.40) !important; }
[data-theme="light"] .bg-white\/50 { background-color: rgba(0,0,0,0.50) !important; }

/* Borders and rings */
[data-theme="light"] .border-white\/10 { border-color: rgba(0,0,0,0.10) !important; }
[data-theme="light"] .border-white\/15 { border-color: rgba(0,0,0,0.15) !important; }
[data-theme="light"] .border-white\/20 { border-color: rgba(0,0,0,0.20) !important; }
[data-theme="light"] .border-white\/25 { border-color: rgba(0,0,0,0.25) !important; }
[data-theme="light"] .border-white\/30 { border-color: rgba(0,0,0,0.30) !important; }
[data-theme="light"] .border-white\/40 { border-color: rgba(0,0,0,0.40) !important; }
[data-theme="light"] .border-white\/50 { border-color: rgba(0,0,0,0.50) !important; }
[data-theme="light"] .ring-white\/20 { --tw-ring-color: rgba(0,0,0,0.20) !important; }
[data-theme="light"] .ring-white\/10 { --tw-ring-color: rgba(0,0,0,0.10) !important; }
[data-theme="light"] .ring-white\/30 { --tw-ring-color: rgba(0,0,0,0.30) !important; }
[data-theme="light"] .ring-white\/40 { --tw-ring-color: rgba(0,0,0,0.40) !important; }
[data-theme="light"] .ring-white\/50 { --tw-ring-color: rgba(0,0,0,0.50) !important; }

body {
  background: var(--background);
  color: var(--foreground);
  font-family: var(--font-sans), ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Inter, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
  transition: background-color 360ms ease, color 360ms ease;
}

/* Prevent horizontal scroll/blank space on wide tickers */
html, body {
  max-width: 100%;
  overflow-x: hidden;
}

/* Keyframes for ultra-slow marquee animations used by NewsTicker */
@keyframes ticker-left {
  0% { transform: translateX(0); }
  100% { transform: translateX(-50%); }
}

/* Smooth theme transition helper: only colors and outlines, not layout */
.theme-transition *,
.theme-transition *::before,
.theme-transition *::after {
  transition: background-color 360ms ease, color 360ms ease, border-color 360ms ease, fill 360ms ease, stroke 360ms ease, box-shadow 360ms ease, outline-color 360ms ease, caret-color 360ms ease;
}

/* Reduce/disable transitions if user prefers reduced motion */
@media (prefers-reduced-motion: reduce) {
  body { transition: none; }
  .theme-transition *,
  .theme-transition *::before,
  .theme-transition *::after {
    transition: none !important;
  }
  .mood-rotate-slow { animation: none !important; }
  .mood-shimmer { animation: none !important; }
}

/* View Transitions: ensure a clean cross-fade when supported */
::view-transition-old(root),
::view-transition-new(root) {
  animation-duration: 240ms;
  animation-timing-function: ease;
  mix-blend-mode: normal;
}

/* Subtle rotation for mood donut sheen */
@keyframes mood-rotate-slow {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

.mood-rotate-slow {
  transform-origin: center;
  animation: mood-rotate-slow 24s linear infinite;
}

/* Subtle shimmer across stacked bar segments */
@keyframes mood-shimmer {
  0% { background-position: 0% 0; }
  100% { background-position: 200% 0; }
}

.mood-shimmer {
  background-image: linear-gradient(
    90deg,
    transparent 0%,
    rgba(255,255,255,0.08) 20%,
    transparent 40%
  );
  background-size: 200% 100%;
  animation: mood-shimmer 6s linear infinite;
}

@keyframes ticker-right {
  0% { transform: translateX(-50%); }
  100% { transform: translateX(0); }
}
